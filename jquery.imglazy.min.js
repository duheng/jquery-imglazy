!function(){function t(t){function e(){for(var t,e,i,h=0,u=a.length,l=n.scrollTop(),m=n.height();u>h;)t=a[h],e=t.offset().top,i=l+m+s>=e,i=i&&(!c.viewport||e+t.height()+s>=l),i?(t.attr("src",t.attr(r)).removeAttr(r),"fadeIn"===c.effect&&t.css("opacity",0).animate({opacity:1}),a.splice(h,1),u--):h++;0===u&&n.off(f,o)}var i,o,n=$(window),c=$.extend({selector:"img[data-src]",src:"data-src",effect:"none",threshold:0,timeout:0,viewport:!1},t),r=c.src,s=c.threshold,f="scroll resize",a=[];this.init=function(){a.length=0,$(c.selector).each(function(){a.push($(this))}),n.off(f,o),n.on(f,o),o()},o=0===c.timeout?e:function(){clearTimeout(i),i=setTimeout(e,c.timeout)}}$.imgLazy=function(e){var i=new t(e);$.imgLazy=i.init,i.init()}}();